<html xmlns:th="http://www.thymeleaf.org">
<head th:include="fragments/backoffice :: head (title='Consultas Realizadas')">
<meta charset="UTF-8"></meta>
</head>
<link rel="stylesheet" th:href="@{css/jquery-ui.css}"/>
<script type="text/javascript" th:src="@{js/jquery-ui.js}"></script>
<style>
	.titulo-ca
	{
		font-family: 'Roboto', serif;
		font-size: 16px;
	}
	
	.notas-ca
	{
		font-family: 'Roboto', serif;
		font-size: 16px;
		color: rgb(177, 179, 181);
	}
	.boton-mostrar
	{
		padding-top: 2%;
	}
	.center
	{
		margin: auto;
		width: 70%;
		padding: 10px;
	}
</style>
<script>
	$(function()
	{
		$("#fechaDesde").datepicker({
			dateFormat : "yy-mm-dd"
		});
		$("#fechaHasta").datepicker({
			dateFormat : "yy-mm-dd"
		});
	});
</script>
<body>
	<div th:include="fragments/backoffice :: body(paginaActual='consultasRealizadas')"></div>
	<div class="container">
		<div class="row center">
			<form th:action="@{/filtrarConsultasRealizadas}" th:method="post">
				<div class="col-md-4">
					<div class="form-group">
						<label for="fecha-desde-lbl">Desde</label>
						<input type="text" name="fechaDesde" id="fechaDesde" class="form-control" value="" th:value="${fechaDesde}"/>
					</div>
				</div>
				<div class="col-md-4">
					<div class="form-group">
						<label for="fecha-hasta-lbl">Hasta</label>
						<input type="text" name="fechaHasta" id="fechaHasta" class="form-control" value="" th:value="${fechaHasta}"/>
					</div>
				</div>
				<div class="col-md-4 boton-mostrar">
					<button class="btn btn-danger" onclick="crearGraficos()">
						Mostrar <img class="imagen-visualizar" src=""/>
					</button>
				</div>
			</form>
		</div>
		<div class="row center" th:if="${mensajeError} != null">
			<div class="col-md-12">
				<div class="form-group">
					<p>**Fechas incorrectas.</p>
				</div>
			</div>
		</div>
		<div class="row center" th:unless="${consultasFiltradas} == null">
			<div class="table-responsive" th:if="${not #lists.isEmpty(consultasFiltradas)}">
				<table class="table table-bordered">
					<thead>
						<tr>
							<th class="text-center">Tema consultado</th>
							<th class="text-center">Cantidad</th>
						</tr>
					</thead>
					<tbody>
						<th:block th:each="consulta : ${consultasFiltradas}">
							<tr>
								<td class="td-tabla-ca text-center" th:text="${consulta.descripcion}"/>
								<td class="td-tabla-ca text-center" th:text="${consulta.vecesConsultado}"/>
							</tr>
						</th:block>
					</tbody>
				</table>
			</div>
			<div th:if="${#lists.isEmpty(consultasFiltradas)}">
				<div class="col-md-12">
					<label for="mensajeTablaVacia" class="text-center">No se encontraron registros con esos criterios</label>
				</div>
			</div>
		</div>

	</div>
</body>
</html>