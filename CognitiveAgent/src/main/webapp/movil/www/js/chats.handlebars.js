(function() {
  var template = Handlebars.template, templates = Handlebars.templates = Handlebars.templates || {};
templates['chats'] = template({"compiler":[7,">= 4.0.0"],"main":function(container,depth0,helpers,partials,data) {
    return "<div class=\"row\">\r\n	<div class=\"col-md-11\">\r\n		<input type=\"text\" id=\"campoDeEntrada\" class=\"form-control\" >\r\n	</div>\r\n	<div class=\"col-md-1\">\r\n		<button id=\"enviar\" class=\"btn btn-default\">Enviar</button>\r\n	</div>\r\n</div>\r\n\r\n<script>\r\n$(function(){\r\n\r\n	function initChats()\r\n	{\r\n		var conversation = $(\"#conversation\");\r\n		var campoDeEntrada = $(\"#campoDeEntrada\");\r\n		var mensajeDeAgente = $('<li class=\"other\"><div class=\"msg\"><p></p><time>20:17</time></div></li>');\r\n		var mensajeDeUsuario = $('<li class=\"self\"><div class=\"msg\"><p></p><time>20:17</time></div></li>');\r\n		var botonDeEnviarMensaje = $(\"#enviar\");\r\n		var contexto = \"\";\r\n		\r\n		botonDeEnviarMensaje.click(function(){\r\n		\r\n			enviarAlServer({ textoAEnviar:campoDeEntrada.val() });\r\n			\r\n		});\r\n		\r\n		campoDeEntrada.keypress(function(e) {\r\n		  if(e.which == 13) \r\n		  {\r\n			enviarAlServer({ textoAEnviar:campoDeEntrada.val()});\r\n		  }\r\n		});\r\n		\r\n		enviarAlServer({sePuedenEnviarVaciosAlServer:true, imprimirElMensajeQueElUsuarioEscribioEnLaConversacion:false, textoAEnviar:\"Hola\"});\r\n		\r\n		function enviarAlServer(param)\r\n		{\r\n			var sePuedenEnviarVaciosAlServer = ( param.sePuedenEnviarVaciosAlServer == undefined ) ? false : true;\r\n			var imprimirElMensajeQueElUsuarioEscribioEnLaConversacion = ( param.imprimirElMensajeQueElUsuarioEscribioEnLaConversacion == undefined ) ? true : false;\r\n			var textoAEnviar = param.textoAEnviar;\r\n					\r\n			if( ! sePuedenEnviarVaciosAlServer && textoAEnviar == \"\") return	\r\n			if( imprimirElMensajeQueElUsuarioEscribioEnLaConversacion )\r\n			{\r\n				var mensaje = mensajeDeUsuario.clone();\r\n				mensaje.find(\".msg p\").html(textoAEnviar);\r\n				campoDeEntrada.val(\"\");\r\n				conversation.append(mensaje);\r\n			}\r\n			\r\n			$.ajax({\r\n				type: \"POST\",\r\n				dataType   : \"json\",\r\n				url : serverDomain+\"conversacion/\"+contexto,\r\n				data : textoAEnviar\r\n			})\r\n			.done(function( data ) \r\n			{\r\n				var respuesta = mensajeDeAgente.clone();\r\n				respuesta.find(\".msg p\").html(data.texto);\r\n				conversation.append(respuesta);\r\n				\r\n				contexto = data.contexto;\r\n			});\r\n			\r\n		}\r\n\r\n	}\r\n	initChats();\r\n\r\n});\r\n</script>";
},"useData":true});
})();