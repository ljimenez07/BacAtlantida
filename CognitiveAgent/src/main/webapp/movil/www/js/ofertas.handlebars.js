(function() {
  var template = Handlebars.template, templates = Handlebars.templates = Handlebars.templates || {};
templates['ofertas'] = template({"1":function(container,depth0,helpers,partials,data) {
    return "  <br>\r\n  <div class=\"row\">\r\n    <div class=\"col-xs-12 text-center\">\r\n      <span id=\"mostrar-mas\">Mostrar más</span>\r\n    </div>\r\n  </div>\r\n";
},"compiler":[7,">= 4.0.0"],"main":function(container,depth0,helpers,partials,data) {
    var stack1;

  return "<div class=\"row\">\r\n  <div class=\"col-xs-12\">\r\n    <p><strong>¡Hola!</strong></p><br>\r\n    <p>Inicie sesi&oacute;n para que conozcas tus <strong>mejores beneficios</strong></p>\r\n    <br>\r\n  </div>\r\n</div>\r\n<div class=\"contenedor-de-ofertas\">\r\n</div>\r\n"
    + ((stack1 = (helpers.compare || (depth0 && depth0.compare) || helpers.helperMissing).call(depth0 != null ? depth0 : {},(depth0 != null ? depth0.cantidad : depth0),">",10,{"name":"compare","hash":{},"fn":container.program(1, data, 0),"inverse":container.noop,"data":data})) != null ? stack1 : "")
    + "\r\n<script type=\"text/javascript\">\r\nvar pagina = 1;\r\ncargarOfertas();\r\npagina++;\r\n\r\n$(\"#mostrar-mas\").click(function() {\r\n  $.ajax({\r\n    url: serverDomain + \"/ofertas/cantidad\",\r\n    async: false,\r\n    success: function(data) {\r\n  	  cargarOfertas();\r\n      var cantidadDeOfertasMostradas = pagina * 10;\r\n      console.log(cantidadDeOfertasMostradas);\r\n      console.log(data);\r\n      console.log(data < cantidadDeOfertasMostradas);\r\n      if(data < cantidadDeOfertasMostradas) {\r\n        $(\"#mostrar-mas\").parent().parent().remove();\r\n      }\r\n    }\r\n  });\r\n  pagina++;\r\n});\r\n\r\nfunction bindAcciones() {\r\n	$(\".datos-de-oferta\").click(function() {\r\n	  var id = $(this).attr(\"id\");\r\n	  $.ajax({\r\n	    url: serverDomain + \"/ofertas/\" + id,\r\n	    success: function(data) {\r\n	      $(\".panel-body\").html(Handlebars.templates.oferta(data));\r\n	      $(\"#titulo-de-pantalla\").html(\"DETALLE DE LA OFERTA\");\r\n	    }\r\n	  });\r\n	});\r\n	\r\n	$(\".boton-like, .boton-dislike\").click(function() {\r\n	  var activo = $(this).parent().parent().find(\".activo\");\r\n	  if(activo.attr('class') != $(this).attr('class')) {\r\n	    activo.addClass(\"inactivo\").removeClass(\"activo\");\r\n	  }\r\n	  $(this).toggleClass(\"activo\").toggleClass(\"inactivo\");\r\n	});\r\n}\r\n\r\nfunction cargarOfertas() {\r\n  var context;\r\n  $.ajax({\r\n    url: serverDomain + \"/ofertas\",\r\n    data: {\r\n      pagina: pagina\r\n    },\r\n    async: false,\r\n    success: function(data) {\r\n      context = {ofertas: data};\r\n    }\r\n  });\r\n  $(\".contenedor-de-ofertas\").append(Handlebars.templates.listaDeOfertas(context));\r\n  bindAcciones();\r\n}\r\n</script>\r\n";
},"useData":true});
})();