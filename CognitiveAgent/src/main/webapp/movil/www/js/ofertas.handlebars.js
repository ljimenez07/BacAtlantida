(function() {
  var template = Handlebars.template, templates = Handlebars.templates = Handlebars.templates || {};
templates['ofertas'] = template({"1":function(container,depth0,helpers,partials,data) {
    return "	<br>\r\n	<div class=\"row\">\r\n		<div class=\"col-xs-12 text-center\">\r\n			<span id=\"mostrar-mas\">Mostrar más</span>\r\n		</div>\r\n	</div>\r\n";
},"compiler":[7,">= 4.0.0"],"main":function(container,depth0,helpers,partials,data) {
    var stack1;

  return "<audio id=\"buzzer\" src=\"\" type=\"audio/ogg\">Your browser does not support the &#60;audio&#62; element.</audio>\r\n<div class=\"row\">\r\n	<div class=\"col-xs-12\">\r\n		<p><strong>¡Hola!</strong></p><br>\r\n		<p>Inicie sesi&oacute;n para que conozcas tus <strong>mejores beneficios</strong></p>\r\n		<br>\r\n	</div>\r\n</div>\r\n\r\n<div class=\"contenedor-de-ofertas\">\r\n</div>\r\n\r\n"
    + ((stack1 = (helpers.compare || (depth0 && depth0.compare) || helpers.helperMissing).call(depth0 != null ? depth0 : {},(depth0 != null ? depth0.cantidad : depth0),">",10,{"name":"compare","hash":{},"fn":container.program(1, data, 0),"inverse":container.noop,"data":data})) != null ? stack1 : "")
    + "\r\n<script type=\"text/javascript\">\r\nvar buzzer = $('#buzzer'); \r\nvar pagina = 1;\r\ncargarOfertas();\r\npagina++;\r\n\r\n$(\"#mostrar-mas\").click(function()\r\n{\r\n	$.ajax({\r\n		url: serverDomain + \"/ofertas/cantidad\",\r\n		async: false,\r\n		success: function(data)\r\n		{\r\n			cargarOfertas();\r\n			var cantidadDeOfertasMostradas = pagina * 10;\r\n			if(data < cantidadDeOfertasMostradas)\r\n			{\r\n				$(\"#mostrar-mas\").parent().parent().remove();\r\n			}\r\n		}\r\n	});\r\n	pagina++;\r\n});\r\n\r\nfunction bindAcciones()\r\n{\r\n	$(\".datos-de-oferta\").click(function()\r\n	{\r\n		var id = $(this).attr(\"id\");\r\n		$.ajax({\r\n			url: serverDomain + \"/ofertas/\" + id,\r\n			success: function(data)\r\n			{\r\n				$(\".panel-body\").html(Handlebars.templates.oferta(data));\r\n				$(\"#titulo-de-pantalla\").html(\"DETALLE DE LA OFERTA\");\r\n	 		}\r\n		});\r\n	});\r\n	\r\n	$(\".boton-like, .boton-dislike\").click(function()\r\n	{\r\n		var parent = $(this).parent().parent();\r\n		var idDeLaOferta = parent.attr(\"idoferta\");\r\n		var activo = parent.find(\".estado-1\");\r\n		if(activo.attr('class') != $(this).attr('class')) {\r\n			activo.addClass(\"estado-0\").removeClass(\"estado-1\");\r\n		}\r\n		$(this).toggleClass(\"estado-1\").toggleClass(\"estado-0\");\r\n		var esLike = parent.find(\".boton-like\").hasClass(\"estado-1\");\r\n		var esDislike = parent.find(\".boton-dislike\").hasClass(\"estado-1\");\r\n		var reaccion = null;\r\n		if(esLike)\r\n		{\r\n			reaccion = true;\r\n		}\r\n		else if(esDislike)\r\n		{\r\n			reaccion = false;\r\n		}\r\n		ajax({\r\n			type: \"POST\",\r\n			contentType: \"application/x-www-form-urlencoded; charset=UTF-8\",\r\n			url: serverDomain + \"/reaccion/oferta\",\r\n			data:\r\n			{\r\n				idOferta: idDeLaOferta,\r\n				reaccion: reaccion\r\n			},\r\n			success: function(data)\r\n			{\r\n				console.log(data);\r\n			}\r\n		});\r\n	});\r\n\r\n	function playAudio()\r\n	{\r\n		$(\".boton-escuchar\").click(function()\r\n		{\r\n			buzzer.attr(\"src\", serverDomain+\"/movil/www/archivos\"+$(this).data(\"audio\"));\r\n			buzzer[0].play();  \r\n		});\r\n	}\r\n	playAudio();\r\n}\r\n\r\nfunction cargarOfertas()\r\n{\r\n	var context;\r\n	$.ajax({\r\n		url: serverDomain + \"/ofertas\",\r\n		data:\r\n		{\r\n			pagina: pagina\r\n		},\r\n		async: false,\r\n		success: function(data)\r\n		{\r\n			context = {ofertas: data};\r\n		}\r\n	});\r\n	$(\".contenedor-de-ofertas\").append(Handlebars.templates.listaDeOfertas(context));\r\n	bindAcciones();\r\n}\r\n</script>\r\n";
},"useData":true});
})();